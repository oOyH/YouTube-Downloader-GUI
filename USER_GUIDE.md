# YouTube下载器使用指南

## 快速开始

### 安装依赖
```bash
pip install PyQt5 yt-dlp
```

### 运行程序
```bash
# 运行经典版界面
python main.py

# 运行改进版界面（推荐）
python main.py --improved
```

## 界面介绍

### 经典版界面
- 单页面设计，所有功能在一个窗口中
- 适合熟悉原版界面的用户
- 功能完整，性能优化

### 改进版界面（推荐）
- 标签页设计，功能分类清晰
- 现代化卡片式布局
- 支持多主题切换
- 更好的用户体验

## 功能详解

### 1. 基本下载

#### 单个视频下载
1. 在"视频链接"中输入YouTube视频URL
2. 选择"下载单个视频"模式
3. 设置视频质量（推荐1080p）
4. 选择格式类型（推荐"自动选择"）
5. 点击"开始下载"

#### 支持的URL格式
- 标准YouTube链接：`https://www.youtube.com/watch?v=VIDEO_ID`
- 短链接：`https://youtu.be/VIDEO_ID`
- 播放列表：`https://www.youtube.com/playlist?list=PLAYLIST_ID`
- 频道链接：`https://www.youtube.com/@CHANNEL_NAME`

### 2. 批量下载

#### 按日期下载
1. 选择"根据日期下载播放列表视频"
2. 设置起始日期
3. 输入播放列表URL
4. 开始下载

#### 按范围下载
1. 选择"根据范围下载播放列表视频"
2. 设置起始序号和数量
3. 或勾选"下载全部剩余"
4. 开始下载

### 3. 质量设置

#### 视频质量选项
- **最佳质量**：自动选择最高可用质量
- **8K/4K/1440p/1080p/720p/480p/360p**：固定分辨率
- **自定义**：手动指定格式代码

#### 格式类型
- **自动选择**：让程序自动选择最佳格式
- **MP4 (H.264)**：兼容性最好的格式
- **WebM (VP9)**：Google推荐的开放格式
- **MP4 (AV1)**：新一代高效编码
- **仅音频**：只下载音频文件

#### 音频编码
- **最佳**：自动选择最佳音频质量
- **Opus**：高质量开放音频编码
- **AAC**：广泛兼容的音频格式

### 4. Cookie设置

#### 为什么需要Cookie？
- 访问私有视频
- 绕过地区限制
- 提高下载成功率
- 访问会员专享内容

#### 从浏览器获取（推荐）
1. 选择"从浏览器获取"
2. 选择你使用的浏览器
3. 确保浏览器中已登录YouTube

#### 从文件获取
1. 安装浏览器插件"Get cookies.txt LOCALLY"
2. 在YouTube页面使用插件导出cookies.txt
3. 选择"从文件获取"并选择导出的文件

### 5. 输出设置

#### 保存目录
- 默认保存到程序目录下的"download"文件夹
- 可以自定义保存路径

#### 输出模板
使用变量自定义文件名格式：
- `%(title)s`：视频标题
- `%(uploader)s`：上传者
- `%(upload_date)s`：上传日期
- `%(id)s`：视频ID
- `%(height)sp`：分辨率

示例模板：
- `%(title)s.%(ext)s`：标题.扩展名
- `%(uploader)s - %(title)s.%(ext)s`：上传者 - 标题.扩展名
- `[%(upload_date)s] %(title)s.%(ext)s`：[日期] 标题.扩展名

#### 下载记录
- 启用后会记录已下载的视频
- 避免重复下载
- 支持断点续传

## 高级功能

### 1. 预设管理（改进版）
- **高质量下载**：最佳质量MP4格式
- **快速下载**：720p自动格式
- **仅音频**：最佳音频质量
- **移动设备友好**：480p MP4格式

### 2. 主题切换（改进版）
- **浅色主题**：经典白色界面
- **深色主题**：护眼深色界面
- **蓝色主题**：现代蓝色配色

### 3. 配置管理
- 自动保存设置
- 导入/导出配置文件
- 重置为默认设置

## 常见问题

### Q: 下载失败怎么办？
A: 
1. 检查网络连接
2. 更新yt-dlp：`pip install -U yt-dlp`
3. 尝试使用Cookie
4. 检查视频是否可用

### Q: 下载速度慢怎么办？
A: 
1. 选择较低的视频质量
2. 检查网络带宽
3. 尝试不同的时间段下载
4. 使用代理服务器

### Q: 无法下载私有视频？
A: 
1. 确保已登录YouTube
2. 正确配置Cookie
3. 检查视频访问权限

### Q: 格式选择建议？
A: 
- **通用兼容**：MP4 (H.264) + AAC
- **高质量**：WebM (VP9) + Opus
- **小文件**：较低分辨率 + 高效编码
- **仅音频**：Opus格式

### Q: 批量下载注意事项？
A: 
1. 避免同时下载过多视频
2. 注意硬盘空间
3. 遵守YouTube服务条款
4. 尊重版权

## 技巧和建议

### 1. 性能优化
- 关闭不必要的程序释放内存
- 使用SSD硬盘提高写入速度
- 定期清理下载目录

### 2. 文件管理
- 使用有意义的输出模板
- 定期整理下载文件
- 备份重要视频

### 3. 安全使用
- 定期更新程序和依赖
- 不要分享Cookie文件
- 注意版权法律法规

## 故障排除

### 常见错误及解决方案

#### "无法获取视频信息"
- 检查URL是否正确
- 视频可能已被删除或设为私有
- 尝试使用Cookie

#### "Cookie文件验证失败"
- 重新导出Cookie文件
- 确保使用正确的浏览器插件
- 检查文件格式

#### "下载目录权限不足"
- 选择有写入权限的目录
- 以管理员身份运行程序

#### "程序无响应"
- 等待当前操作完成
- 重启程序
- 检查系统资源

## 更新日志

### v2.0 (当前版本)
- 全面重构代码架构
- 新增改进版界面
- 支持多主题切换
- 优化下载性能
- 增强错误处理
- 添加预设管理
- 改进进度显示

### v1.0
- 基础下载功能
- 单文件架构
- 基本UI界面

## 技术支持

如果遇到问题，请：
1. 查看本使用指南
2. 检查程序日志
3. 更新到最新版本
4. 提供详细的错误信息

## 免责声明

本软件仅供学习和研究使用，请遵守相关法律法规和YouTube服务条款。用户应对下载内容的合法性负责。
